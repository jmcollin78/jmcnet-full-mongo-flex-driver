

# Introduction #

This page will explain, how to use the object identifier (ObjectID class).
Thank's to _ericsoco_ which provide an ObjectID class [here](http://words.transmote.com/wp/20120402/mongodb-objectid-for-as3/).

# Details #
In MongoDB each document have a unique id. This is field named `_id` which is mandatory. If not provided by the client, MongoDB will add a `_id` value calculated in a way to be unique.
`_id` are stored as 12-byte ByteArray.

The ObjectID class provide helpers method to manipulate `_id` fields :
```
public class ObjectID {
	/**
	 * @brief Create a new ObjectID
	 * @param bytearray A little-endian, 12-byte ByteArray containing the ID
	 */
	public function ObjectID( bytearray : ByteArray = null ) :void;
	
	/**
	 * @brief creates a new ObjectID from a String.
	 * @param String the _id value
	 */
	public static function createFromString(value:String):ObjectID;
		
	/**
	 * @brief Set the value of this ObjectID
	 * @param bytearray A little-endian, 12-byte ByteArray containing the ID
	 */
	public function setFromBytes( bytearray : ByteArray ) :void;
		
	/**
	 * @brief Get the value of this ObjectID
	 * @return A little-endian, 12-byte ByteArray containing the ID
	 */
	public function getAsBytes() : ByteArray;

	/**
	 * @bried Returns a formatted readable string
	 */
	public function toString() : String;

        /**
	 * @brief create a new ObjectID from it's string representation (generated by toString). 
	 * @param String : must be a 24 characters String containing only hexadecimal digits (0-9a-f)
	 * @see ObjectID.toString, Object.createFromString
	 */
	public static function fromStringRepresentation(s:String):ObjectID;
}

```

You use it the following ways :
```
// Create and initialize a new ObjectID. The _id value is unpredictable
var id:ObjectID = new ObjectID();

// Create and initialize a new ObjectID. The _id value is "myValue"
var id:ObjectID = ObjectID.createfromString("myValue");

// Create and initialize a new ObjectID from a String representation (generated by a previous toString method)
var id:ObjectID = ObjectID.fromStringRepresentation(anotherObjectID.toString());

```

## ObjectIDable abstract class ##
This class is provided to help developper to use ObjectID in there VO or DTO.
Simply extends ObjectIDable in your VO or DTO and then you have access to an _id fields of type ObjectID, which can be set in constructor._

Example :
```
// An ObjectIDable class
public class TestComplexObjectIDVO extends ObjectIDable	{
	public function TestComplexObjectIDVO(_id:ObjectID=null){
		super(_id);
	}
...
}

// Instanciate
obj = new TestComplexObjectIDVO(ObjectID.createFromString("myObject"));
// Or instanciate for a _id string representation
obj = new TestComplexObjectIDVO(ObjectID.fromStringRepresentation("501d161f52c6c0184cb8a6e"));

// Use
obj._id ;
```

# See also #
  * [Home](Home.md),
  * [CRUD](CRUD.md) (Create, Retrieve, Update, Delete),
  * [Query](Query.md) (Find, FindOne, getMore, killCursor)
  * [Direct object manipulation](DirectObject.md)

